apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: postgres-data
  namespace: level2
  labels:
    app: postgres
spec:
  accessModes:
  - ReadWriteOnce  # Single node read-write (suitable for databases)
  resources:
    requests:
      storage: 2Gi
  storageClassName: hostpath  # Docker Desktop default

---
# Access Modes:
# - ReadWriteOnce (RWO): Volume can be mounted read-write by a single node
# - ReadOnlyMany (ROX): Volume can be mounted read-only by many nodes
# - ReadWriteMany (RWX): Volume can be mounted read-write by many nodes

# For Docker Desktop, hostpath storage class is used
# For cloud providers, use:
# - AWS: gp2, gp3, ebs-sc
# - GCP: standard, pd-ssd
# - Azure: default, managed-premium

# Check PVC status:
# kubectl get pvc -n level2

# Check bound PV:
# kubectl get pv

# Describe PVC:
# kubectl describe pvc postgres-data -n level2

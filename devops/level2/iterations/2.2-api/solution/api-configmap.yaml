apiVersion: v1
kind: ConfigMap
metadata:
  name: api-config
  namespace: level2
  labels:
    app: temple-api
data:
  # Database configuration
  DATABASE_CLIENT: "postgres"
  DATABASE_HOST: "postgres-service"
  DATABASE_PORT: "5432"
  DATABASE_NAME: "templedb"
  
  # Application configuration
  NODE_ENV: "production"
  HOST: "0.0.0.0"
  PORT: "1337"
  
  # Strapi public URL
  URL: "http://temple-api-service:1337"

---
# ConfigMaps store non-sensitive configuration
# For sensitive data (passwords, tokens), use Secrets instead

# View ConfigMap:
# kubectl get configmap api-config -n level2 -o yaml

# Edit ConfigMap:
# kubectl edit configmap api-config -n level2

# Pods must be restarted to pick up ConfigMap changes:
# kubectl rollout restart deployment/temple-api -n level2

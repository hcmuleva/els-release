apiVersion: v1
kind: Service
metadata:
  name: multi-port-service
  namespace: level1
  labels:
    app: multi-port-app
spec:
  type: ClusterIP
  selector:
    app: multi-port-app
  ports:
  # HTTP port
  - name: http
    protocol: TCP
    port: 80
    targetPort: 8080
  
  # HTTPS port
  - name: https
    protocol: TCP
    port: 443
    targetPort: 8443
  
  # Metrics port
  - name: metrics
    protocol: TCP
    port: 9090
    targetPort: 9090

---
# Example: Access different ports
# kubectl run test --image=curlimages/curl --rm -it -- sh

# From within cluster:
# curl http://multi-port-service:80       # HTTP
# curl https://multi-port-service:443     # HTTPS
# curl http://multi-port-service:9090     # Metrics
